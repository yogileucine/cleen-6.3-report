{"uid":"393720d9178886d9","name":"Edit/Update production equipment mapping","fullName":"tests.unit.production.test_production.TestProduction#test_edit_production_equipment_mapping","historyId":"6fdfa77d16501f34a1f22932c0028f8d","time":{"start":1734438969916,"stop":1734438970542,"duration":626},"description":"This method is used to edit/update the equipment mapped to a production","descriptionHtml":"<p>This method is used to edit/update the equipment mapped to a production</p>\n","status":"failed","statusMessage":"AssertionError: {\"error\":{\"errName\":\"NothingToChangeError\",\"where\":{\"domain\":\"Production\",\"action\":\"Modify\"},\"name\":\"Nothing to change\",\"message\":\"No changes have been made from the current values. Please check all fields and try again.\",\"action\":\"Modify\",\"domain\":\"Production\"}}","statusTrace":"self = <test_production.TestProduction object at 0x7f81b7533e90>, data = None\n\n    @allure.title(\"Edit/Update production equipment mapping\")\n    @allure.description(\"This method is used to edit/update the equipment mapped to a production\")\n    @allure.link(\"https://app.clickup.com/t/8678zb69x\")\n    @pytest.mark.edit_production_equipment_mapping\n    def test_edit_production_equipment_mapping(self, data=None):\n        global EQUIPMENTS, PRODUCTIONS\n        equipment_details = self.test_get_production_equipment_mapping_details(data)[\"response\"]\n        production_internal_id = self.test_get_production_equipment_mapping_details(data)[\"production_internal_id\"]\n        equipment_details = json.loads(equipment_details)[\"result\"][\"finalResult\"]\n        PRODUCTIONS = equipment_details[\"equipmentMappings\"]\n        equipments_list = self.equipments_details.test_get_equipments()\n        EQUIPMENTS = json.loads(equipments_list)\n        equipment_id = self.get_equipment_id(data)\n        if data is None:\n            payload = update_production_equipment_mapping(equipment_id)\n        else:\n            payload = data[\"production_equipment_mapping\"]\n        url = const.PRODUCTION + str(production_internal_id) + const.MAP\n        response = Request.post(url, data=payload, use_facility_url=True)\n>       status_200(response)\n\ntests/unit/production/test_production.py:309: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse = <Response [400]>\n\n    def status_200(response):\n>       assert response.status_code == 200, response.text\nE       AssertionError: {\"error\":{\"errName\":\"NothingToChangeError\",\"where\":{\"domain\":\"Production\",\"action\":\"Modify\"},\"name\":\"Nothing to change\",\"message\":\"No changes have been made from the current values. Please check all fields and try again.\",\"action\":\"Modify\",\"domain\":\"Production\"}}\n\nutil/validate_response.py:3: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login","time":{"start":1734429604694,"stop":1734429605014,"duration":320},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_facility","time":{"start":1734429605014,"stop":1734429605194,"duration":180},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"tag","value":"edit_production_equipment_mapping"},{"name":"tag","value":"production"},{"name":"tag","value":"unit"},{"name":"parentSuite","value":"tests.unit.production"},{"name":"suite","value":"test_production"},{"name":"subSuite","value":"TestProduction"},{"name":"host","value":"ubuntu"},{"name":"thread","value":"1892009-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.unit.production.test_production"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"https://app.clickup.com/t/8678zb69x","url":"https://app.clickup.com/t/8678zb69x","type":"link"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["edit_production_equipment_mapping","unit","production"]},"source":"393720d9178886d9.json","parameterValues":[]}